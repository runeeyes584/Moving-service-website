<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Profile - EazeMove Professional Moving Services</title>
    <link rel="stylesheet" href="../assets/css/main.css">
    <link rel="stylesheet" href="../assets/css/header.css">
    <link rel="stylesheet" href="../assets/css/components.css">
    <link rel="stylesheet" href="../assets/css/responsive.css">
    <link rel="stylesheet" href="../assets/css/fixes.css">
    <link rel="stylesheet" href="../assets/css/dashboard.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body class="user-body">
        <!-- Header -->
    <div id="header-container"></div>

    <!-- Profile Content -->
    <main class="user-main">
        <div class="user-container">
            <!-- Profile Header -->
            <div class="user-header">
                <div class="user-welcome">
                    <h1>My Profile</h1>
                    <p>Manage your account information and preferences</p>
                </div>
                <div class="user-actions-header">
                    <button class="user-action-btn primary" onclick="refreshProfile()">
                        <i class="fas fa-sync-alt"></i> Refresh
                    </button>
                    <button class="user-action-btn secondary" onclick="saveAllChanges()">
                        <i class="fas fa-save"></i> Save All
                    </button>
                </div>
            </div>

            <div class="user-layout">
                <!-- Profile Sidebar -->
                <div class="user-sidebar">
                    <div class="user-profile-card">
                        <div class="profile-avatar">
                            <img src="https://via.placeholder.com/120x120/4CAF50/FFFFFF?text=U" alt="Profile Avatar" id="profileAvatar">
                            <button class="avatar-edit" onclick="editAvatar()">
                                <i class="fas fa-camera"></i>
                            </button>
                        </div>
                        <div class="profile-info">
                            <h3 id="profileName">John Doe</h3>
                            <p id="profileEmail">john.doe@example.com</p>
                            <p id="profilePhone">+1 (555) 123-4567</p>
                            <div class="profile-stats">
                                <div class="stat">
                                    <span class="stat-number" id="totalBookings">0</span>
                                    <span class="stat-label">Bookings</span>
                                </div>
                                <div class="stat">
                                    <span class="stat-number" id="totalSpent">$0</span>
                                    <span class="stat-label">Total Spent</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="user-menu">
                        <a href="user-profile.html" class="menu-item active">
                            <i class="fas fa-user"></i>
                            <span>Profile</span>
                        </a>
                        <a href="user-bookings.html" class="menu-item">
                            <i class="fas fa-calendar-check"></i>
                            <span>My Bookings</span>
                        </a>
                        <a href="user-quotes.html" class="menu-item">
                            <i class="fas fa-calculator"></i>
                            <span>Get Quote</span>
                        </a>
                        <a href="user-favorites.html" class="menu-item">
                            <i class="fas fa-heart"></i>
                            <span>Favorites</span>
                        </a>
                        <a href="user-settings.html" class="menu-item">
                            <i class="fas fa-cog"></i>
                            <span>Settings</span>
                        </a>
                    </div>
                </div>

                <!-- Profile Content -->
                <div class="user-content">
                    <!-- Personal Information -->
                    <div class="user-section-card">
                        <div class="section-header">
                            <div class="section-title">
                                <h3>Personal Information</h3>
                                <p>Update your personal details</p>
                            </div>
                            <button class="edit-btn" onclick="toggleEditMode('personalInfoForm')">
                                <i class="fas fa-edit"></i> Edit
                            </button>
                        </div>
                        <div class="section-content">
                            <form id="personalInfoForm" onsubmit="handleFormSubmit(event, 'personal')">
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="firstName">First Name</label>
                                        <input type="text" id="firstName" name="firstName" value="John" readonly>
                                    </div>
                                    <div class="form-group">
                                        <label for="lastName">Last Name</label>
                                        <input type="text" id="lastName" name="lastName" value="Doe" readonly>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="email">Email Address</label>
                                    <input type="email" id="email" name="email" value="john.doe@example.com" readonly>
                                </div>
                                <div class="form-group">
                                    <label for="phone">Phone Number</label>
                                    <input type="tel" id="phone" name="phone" value="+1 (555) 123-4567" readonly>
                                </div>
                                <div class="form-group">
                                    <label for="dateOfBirth">Date of Birth</label>
                                    <input type="date" id="dateOfBirth" name="dateOfBirth" value="1990-01-15" readonly>
                                </div>
                                <div class="form-actions" style="display: none;">
                                    <button type="button" class="btn btn-outline" onclick="cancelEdit('personalInfoForm')">Cancel</button>
                                    <button type="submit" class="btn btn-primary">Save Changes</button>
                                </div>
                            </form>
                        </div>
                    </div>

                    <!-- Address Information -->
                    <div class="user-section-card">
                        <div class="section-header">
                            <div class="section-title">
                                <h3>Address Information</h3>
                                <p>Manage your address details</p>
                            </div>
                            <button class="edit-btn" onclick="toggleEditMode('addressForm')">
                                <i class="fas fa-edit"></i> Edit
                            </button>
                        </div>
                        <div class="section-content">
                            <form id="addressForm" onsubmit="handleFormSubmit(event, 'address')">
                                <div class="form-group">
                                    <label for="street">Street Address</label>
                                    <input type="text" id="street" name="street" value="123 Main Street" readonly>
                                </div>
                                <div class="form-row">
                                    <div class="form-group">
                                        <label for="city">City</label>
                                        <input type="text" id="city" name="city" value="New York" readonly>
                                    </div>
                                    <div class="form-group">
                                        <label for="state">State</label>
                                        <input type="text" id="state" name="state" value="NY" readonly>
                                    </div>
                                    <div class="form-group">
                                        <label for="zipCode">ZIP Code</label>
                                        <input type="text" id="zipCode" name="zipCode" value="10001" readonly>
                                    </div>
                                </div>
                                <div class="form-actions" style="display: none;">
                                    <button type="button" class="btn btn-outline" onclick="cancelEdit('addressForm')">Cancel</button>
                                    <button type="submit" class="btn btn-primary">Save Changes</button>
                                </div>
                            </form>
                        </div>
                    </div>

                    <!-- Preferences -->
                    <div class="user-section-card">
                        <div class="section-header">
                            <div class="section-title">
                                <h3>Preferences</h3>
                                <p>Customize your service preferences</p>
                            </div>
                            <button class="edit-btn" onclick="toggleEditMode('preferencesForm')">
                                <i class="fas fa-edit"></i> Edit
                            </button>
                        </div>
                        <div class="section-content">
                            <form id="preferencesForm" onsubmit="handleFormSubmit(event, 'preferences')">
                                <div class="form-group">
                                    <label for="preferredService">Preferred Service Type</label>
                                    <select id="preferredService" name="preferredService" disabled>
                                        <option value="local">Local Moving</option>
                                        <option value="long-distance" selected>Long Distance Moving</option>
                                        <option value="storage">Storage Services</option>
                                        <option value="office">Office Moving</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label for="budgetRange">Budget Range</label>
                                    <select id="budgetRange" name="budgetRange" disabled>
                                        <option value="under-1000">Under $1,000</option>
                                        <option value="1000-2500" selected>$1,000 - $2,500</option>
                                        <option value="2500-5000">$2,500 - $5,000</option>
                                        <option value="over-5000">Over $5,000</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <label class="checkbox-container">
                                        <input type="checkbox" id="newsletter" name="newsletter" checked disabled>
                                        <span class="checkmark"></span>
                                        Subscribe to newsletter
                                    </label>
                                </div>
                                <div class="form-group">
                                    <label class="checkbox-container">
                                        <input type="checkbox" id="smsUpdates" name="smsUpdates" checked disabled>
                                        <span class="checkmark"></span>
                                        Receive SMS updates
                                    </label>
                                </div>
                                <div class="form-actions" style="display: none;">
                                    <button type="button" class="btn btn-outline" onclick="cancelEdit('preferencesForm')">Cancel</button>
                                    <button type="submit" class="btn btn-primary">Save Changes</button>
                                </div>
                            </form>
                        </div>
                    </div>

                    <!-- Recent Activity -->
                    <div class="user-section-card">
                        <div class="section-header">
                            <div class="section-title">
                                <h3>Recent Activity</h3>
                                <p>Your latest account activity</p>
                            </div>
                            <a href="user-bookings.html" class="view-all-btn">
                                View All <i class="fas fa-arrow-right"></i>
                            </a>
                        </div>
                        <div class="section-content">
                            <div class="activity-list" id="recentActivity">
                                <!-- Will be populated by JavaScript -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <div class="footer-logo">
                        <span class="logo-eaze">Eaze</span><span class="logo-move">Move</span>
                    </div>
                    <p>Your trusted partner for stress-free moving experiences.</p>
                </div>
                <div class="footer-section">
                    <h4>My Account</h4>
                    <ul>
                        <li><a href="user-profile.html">Profile</a></li>
                        <li><a href="user-bookings.html">Bookings</a></li>
                        <li><a href="user-quotes.html">Get Quote</a></li>
                        <li><a href="user-favorites.html">Favorites</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>Support</h4>
                    <ul>
                        <li><a href="contact.html">Contact Us</a></li>
                        <li><a href="#">Help Center</a></li>
                        <li><a href="#">FAQs</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>Contact Info</h4>
                    <div class="contact-details">
                        <p><i class="fas fa-phone"></i> +1 (555) 987-6543</p>
                        <p><i class="fas fa-envelope"></i> hello@eazemove.com</p>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <div class="footer-copyright">
                    Copyright © 2024 EazeMove. All rights reserved.
                </div>
            </div>
        </div>
    </footer>

    <script src="../assets/js/auth.js"></script>
    <script src="../assets/js/user-profile.js"></script>
    <script src="../assets/js/header.js"></script>
    <script>
        // Load header component
        document.addEventListener('DOMContentLoaded', function() {
            const isPageInSubfolder = window.location.pathname.includes('/pages/');
            const headerPath = isPageInSubfolder ? '../assets/components/header.html' : 'assets/components/header.html';
            
            fetch(headerPath)
                .then(response => response.text())
                .then(data => {
                    document.getElementById('header-container').innerHTML = data;
                    if (typeof initHeader === 'function') {
                        initHeader();
                    }
                })
                .catch(error => {
                    console.error('Error loading header:', error);
                });
        });
    </script>
</body>
</html>

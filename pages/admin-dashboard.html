<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard - EazeMove Professional Moving Services</title>
    <link rel="stylesheet" href="../assets/css/main.css">
    <link rel="stylesheet" href="../assets/css/header.css">
    <link rel="stylesheet" href="../assets/css/components.css">
    <link rel="stylesheet" href="../assets/css/responsive.css">
    <link rel="stylesheet" href="../assets/css/fixes.css">
    <link rel="stylesheet" href="../assets/css/dashboard.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body class="admin-body">
        <!-- Header -->
    <div id="header-container"></div>

    <!-- Dashboard Content -->
    <main class="admin-main">
        <div class="admin-container">
            <!-- Dashboard Header -->
            <div class="admin-header">
                <div class="admin-welcome">
                    <h1>Admin Dashboard</h1>
                    <p>Welcome back, <span id="adminName">Admin</span>! Here's what's happening with your business.</p>
                </div>
                <div class="admin-actions-header">
                    <button class="admin-action-btn primary" onclick="refreshDashboard()">
                        <i class="fas fa-sync-alt"></i> Refresh
                    </button>
                    <button class="admin-action-btn secondary" onclick="exportData()">
                        <i class="fas fa-download"></i> Export
                    </button>
                </div>
            </div>

            <!-- Stats Overview -->
            <div class="admin-stats-grid">
                <div class="admin-stat-card">
                    <div class="stat-header">
                        <div class="stat-icon bookings">
                            <i class="fas fa-calendar-check"></i>
                        </div>
                        <div class="stat-trend positive">
                            <i class="fas fa-arrow-up"></i> +12%
                        </div>
                    </div>
                    <div class="stat-content">
                        <h3 id="totalBookings">0</h3>
                        <p>Total Bookings</p>
                        <span class="stat-subtitle">+5 this week</span>
                    </div>
                </div>
                
                <div class="admin-stat-card">
                    <div class="stat-header">
                        <div class="stat-icon revenue">
                            <i class="fas fa-dollar-sign"></i>
                        </div>
                        <div class="stat-trend positive">
                            <i class="fas fa-arrow-up"></i> +8%
                        </div>
                    </div>
                    <div class="stat-content">
                        <h3 id="totalRevenue">$0</h3>
                        <p>Total Revenue</p>
                        <span class="stat-subtitle">+$2,400 this week</span>
                    </div>
                </div>
                
                <div class="admin-stat-card">
                    <div class="stat-header">
                        <div class="stat-icon customers">
                            <i class="fas fa-users"></i>
                        </div>
                        <div class="stat-trend positive">
                            <i class="fas fa-arrow-up"></i> +15%
                        </div>
                    </div>
                    <div class="stat-content">
                        <h3 id="totalCustomers">0</h3>
                        <p>Active Customers</p>
                        <span class="stat-subtitle">+12 this month</span>
                    </div>
                </div>
                
                <div class="admin-stat-card">
                    <div class="stat-header">
                        <div class="stat-icon rating">
                            <i class="fas fa-star"></i>
                        </div>
                        <div class="stat-trend positive">
                            <i class="fas fa-arrow-up"></i> +0.2
                        </div>
                    </div>
                    <div class="stat-content">
                        <h3 id="avgRating">0.0</h3>
                        <p>Average Rating</p>
                        <span class="stat-subtitle">Based on 89 reviews</span>
                    </div>
                </div>
            </div>

            <!-- Charts Section -->
            <div class="admin-charts-section">
                <div class="admin-chart-card large">
                    <div class="chart-header">
                        <div class="chart-title">
                            <h3>Revenue Overview</h3>
                            <p>Track your business performance</p>
                        </div>
                        <div class="chart-controls">
                            <select id="revenuePeriod" class="chart-select">
                                <option value="7">Last 7 days</option>
                                <option value="30" selected>Last 30 days</option>
                                <option value="90">Last 90 days</option>
                            </select>
                        </div>
                    </div>
                    <div class="chart-container">
                        <canvas id="revenueChart"></canvas>
                    </div>
                </div>
                
                <div class="admin-chart-card small">
                    <div class="chart-header">
                        <div class="chart-title">
                            <h3>Booking Status</h3>
                            <p>Current distribution</p>
                        </div>
                    </div>
                    <div class="chart-container">
                        <canvas id="bookingStatusChart"></canvas>
                    </div>
                </div>
            </div>

            <!-- Activities Section -->
            <div class="admin-activities-section">
                <div class="admin-activity-card">
                    <div class="activity-header">
                        <div class="activity-title">
                            <h3>Recent Bookings</h3>
                            <p>Latest customer bookings</p>
                        </div>
                        <a href="admin-bookings.html" class="view-all-btn">
                            View All <i class="fas fa-arrow-right"></i>
                        </a>
                    </div>
                    <div class="activity-list" id="recentBookings">
                        <!-- Will be populated by JavaScript -->
                    </div>
                </div>
                
                <div class="admin-activity-card">
                    <div class="activity-header">
                        <div class="activity-title">
                            <h3>Recent Customers</h3>
                            <p>New customer registrations</p>
                        </div>
                        <a href="admin-customers.html" class="view-all-btn">
                            View All <i class="fas fa-arrow-right"></i>
                        </a>
                    </div>
                    <div class="activity-list" id="recentCustomers">
                        <!-- Will be populated by JavaScript -->
                    </div>
                </div>
            </div>

            <!-- Quick Actions -->
            <div class="admin-quick-actions">
                <div class="quick-actions-header">
                    <h3>Quick Actions</h3>
                    <p>Common administrative tasks</p>
                </div>
                <div class="quick-actions-grid">
                    <button class="quick-action-btn" onclick="window.location.href='admin-bookings.html'">
                        <div class="action-icon">
                            <i class="fas fa-plus"></i>
                        </div>
                        <div class="action-content">
                            <h4>New Booking</h4>
                            <p>Create a new booking</p>
                        </div>
                    </button>
                    
                    <button class="quick-action-btn" onclick="window.location.href='admin-customers.html'">
                        <div class="action-icon">
                            <i class="fas fa-user-plus"></i>
                        </div>
                        <div class="action-content">
                            <h4>Add Customer</h4>
                            <p>Register new customer</p>
                        </div>
                    </button>
                    
                    <button class="quick-action-btn" onclick="window.location.href='admin-services.html'">
                        <div class="action-icon">
                            <i class="fas fa-cogs"></i>
                        </div>
                        <div class="action-content">
                            <h4>Manage Services</h4>
                            <p>Update service offerings</p>
                        </div>
                    </button>
                    
                    <button class="quick-action-btn" onclick="window.location.href='admin-reports.html'">
                        <div class="action-icon">
                            <i class="fas fa-chart-bar"></i>
                        </div>
                        <div class="action-content">
                            <h4>Generate Report</h4>
                            <p>Create business reports</p>
                        </div>
                    </button>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <div class="footer-logo">
                        <span class="logo-eaze">Eaze</span><span class="logo-move">Move</span>
                    </div>
                    <p>Admin Dashboard - EazeMove Management System</p>
                </div>
                <div class="footer-section">
                    <h4>Quick Links</h4>
                    <ul>
                        <li><a href="admin-dashboard.html">Dashboard</a></li>
                        <li><a href="admin-bookings.html">Bookings</a></li>
                        <li><a href="admin-customers.html">Customers</a></li>
                        <li><a href="admin-services.html">Services</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>Reports</h4>
                    <ul>
                        <li><a href="admin-reports.html">Financial Reports</a></li>
                        <li><a href="admin-reports.html">Customer Reports</a></li>
                        <li><a href="admin-reports.html">Service Reports</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>Support</h4>
                    <div class="contact-details">
                        <p><i class="fas fa-phone"></i> +1 (555) 987-6543</p>
                        <p><i class="fas fa-envelope"></i> admin@eazemove.com</p>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <div class="footer-copyright">
                    Copyright © 2024 EazeMove Admin Panel. All rights reserved.
                </div>
            </div>
        </div>
    </footer>

    <script src="../assets/js/auth.js"></script>
    <script src="../assets/js/admin-dashboard.js"></script>
    <script src="../assets/js/header.js"></script>
    <script>
        // Load header component
        document.addEventListener('DOMContentLoaded', function() {
            const isPageInSubfolder = window.location.pathname.includes('/pages/');
            const headerPath = isPageInSubfolder ? '../assets/components/header.html' : 'assets/components/header.html';
            
            fetch(headerPath)
                .then(response => response.text())
                .then(data => {
                    document.getElementById('header-container').innerHTML = data;
                    if (typeof initHeader === 'function') {
                        initHeader();
                    }
                })
                .catch(error => {
                    console.error('Error loading header:', error);
                });
        });
    </script>
</body>
</html>
